<?xml version="1.0"?>
<robot name="bookle" xmlns:xacro="http://www.ros.org/wiki/xacro">

	<!-- Constants for robot dimensions -->
	<xacro:property name="PI" value="3.1415926535897931"/>

	<!-- Import all Gazebo-customization elements, including Gazebo colors -->
	<xacro:include filename="$(find bookle_description)/urdf/bookle.gazebo" />

	<link name="chassis">
		<collision name="collision">
			<origin xyz="0 0 .1" rpy="0 0 0" />
			<geometry>
				<cylinder radius="0.15" length="0.003" />
			</geometry>
		</collision>

		<visual name="visual">
			<origin xyz="0 0 .1" rpy="0 0 0" />
			<geometry>
				<cylinder radius="0.15" length="0.003" />
			</geometry>
		</visual>

		<collision name="front_caster_collision">
			<origin xyz="0.1 0 -0.05" rpy="0 1.5707 1.5707" />
			<geometry>
				<cylinder radius="0.05" length="0.015" />
			</geometry>
		</collision>

		<visual name="front_caster_visual">
			<origin xyz="0.1 0 -0.05" rpy="0 1.5707 1.5707" />
			<geometry>
				<cylinder radius="0.05" length="0.015" />
			</geometry>
		</visual>

		<collision name="back_caster_collision">
			<origin xyz="-0.1 0 -0.05" rpy="0 1.5707 1.5707" />
			<geometry>
				<cylinder radius="0.05" length="0.015" />
			</geometry>
		</collision>

		<visual name="back_caster_visual">
			<origin xyz="-0.1 0 -0.05" rpy="0 1.5707 1.5707" />
			<geometry>
				<cylinder radius="0.05" length="0.015" />
			</geometry>
		</visual>
	</link>

	<link name="left_wheel">
		<origin xyz="0 .1 .04" rpy="0 1.5707 1.5707" />
		<collision name="collision">
			<geometry>
				<cylinder radius="0.04" length="0.015" />
			</geometry>
		</collision>
		<visual name="visual">
			<geometry>
				<cylinder radius="0.04" length="0.015" />
			</geometry>
		</visual>
	</link>

	<link name="right_wheel">
		<origin xyz="0 -0.1 .04" rpy="0 1.5707 1.5707" />
		<collision name="collision">
			<geometry>
				<cylinder radius="0.04" length="0.015" />
			</geometry>
		</collision>
		<visual name="visual">
			<geometry>
				<cylinder radius="0.04" length="0.015" />
			</geometry>
		</visual>
	</link>

	<link name="left_frame">
		<pose>0 -0.1 .1 0 0 0</pose>
		<collision name="left_collision">
			<pose>0 .0075 -0.03 0 0 0</pose>
			<geometry>
				<box>
					<size>.08 .002 .06</size>
				</box>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>0.3</mu>
						<mu2>0.3</mu2>
						<slip1>1.0</slip1>
						<slip2>1.0</slip2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="left_visual">
			<pose>0 .0075 -0.03 0 0 0</pose>
			<geometry>
				<box>
					<size>.08 .002 .06</size>
				</box>
			</geometry>
		</visual>

		<collision name="right_collision">
			<pose>0 -0.0075 -0.03 0 0 0</pose>
			<geometry>
				<box>
					<size>.08 .002 .06</size>
				</box>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>0.3</mu>
						<mu2>0.3</mu2>
						<slip1>1.0</slip1>
						<slip2>1.0</slip2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="right_visual">
			<pose>0 -0.0075 -0.03 0 0 0</pose>
			<geometry>
				<box>
					<size>.08 .002 .06</size>
				</box>
			</geometry>
		</visual>
	</link>

	<link name="right_frame">
		<pose>0 0.1 .1 0 0 0</pose>
		<collision name="left_collision">
			<pose>0 .0075 -0.03 0 0 0</pose>
			<geometry>
				<box>
					<size>.08 .002 .06</size>
				</box>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>0.3</mu>
						<mu2>0.3</mu2>
						<slip1>1.0</slip1>
						<slip2>1.0</slip2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="left_visual">
			<pose>0 .0075 -0.03 0 0 0</pose>
			<geometry>
				<box>
					<size>.08 .002 .06</size>
				</box>
			</geometry>
		</visual>

		<collision name="right_collision">
			<pose>0 -0.0075 -0.03 0 0 0</pose>
			<geometry>
				<box>
					<size>.08 .002 .06</size>
				</box>
			</geometry>
			<surface>
				<friction>
					<ode>
						<mu>0.3</mu>
						<mu2>0.3</mu2>
						<slip1>1.0</slip1>
						<slip2>1.0</slip2>
					</ode>
				</friction>
			</surface>
		</collision>
		<visual name="right_visual">
			<pose>0 -0.0075 -0.03 0 0 0</pose>
			<geometry>
				<box>
					<size>.08 .002 .06</size>
				</box>
			</geometry>
		</visual>
	</link>

	<joint type="revolute" name="left_wheel_hinge">
		<pose>0 .1 .04 0 0 0</pose>
		<child>left_wheel</child>
		<parent>left_frame</parent>
		<axis>
			<xyz>0 1 0</xyz>
		</axis>
	</joint>

	<joint type="revolute" name="right_wheel_hinge">
		<pose>0 -0.1 .04 0 0 0</pose>
		<child>right_wheel</child>
		<parent>right_frame</parent>
		<axis>
			<xyz>0 1 0</xyz>
		</axis>
	</joint>

	<include>
		<uri>model://hokuyo</uri>
		<pose>0.1 0 0.135 0 0 0</pose>
	</include>
	<joint name="hokuyo_joint" type="revolute">
		<child>hokuyo::link</child>
		<parent>chassis</parent>
		<axis>
			<xyz>0 0 1</xyz>
			<limit>
				<upper>0</upper>
				<lower>0</lower>
			</limit>
		</axis>
	</joint>
</robot>
